<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 704.5213012695312 1744.5050048828125" style="max-width: 704.5213012695312px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1749203343004-rfcvw22da"><style>#mermaid-svg-1749203343004-rfcvw22da{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#f8f8f2;}#mermaid-svg-1749203343004-rfcvw22da .error-icon{fill:#5a1d1d;}#mermaid-svg-1749203343004-rfcvw22da .error-text{fill:#ff5555;stroke:#ff5555;}#mermaid-svg-1749203343004-rfcvw22da .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1749203343004-rfcvw22da .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1749203343004-rfcvw22da .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1749203343004-rfcvw22da .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1749203343004-rfcvw22da .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1749203343004-rfcvw22da .marker{fill:#f8f8f2;stroke:#f8f8f2;}#mermaid-svg-1749203343004-rfcvw22da .marker.cross{stroke:#f8f8f2;}#mermaid-svg-1749203343004-rfcvw22da svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1749203343004-rfcvw22da .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#f8f8f2;}#mermaid-svg-1749203343004-rfcvw22da .cluster-label text{fill:rgba(255, 255, 255, 0.8);}#mermaid-svg-1749203343004-rfcvw22da .cluster-label span,#mermaid-svg-1749203343004-rfcvw22da p{color:rgba(255, 255, 255, 0.8);}#mermaid-svg-1749203343004-rfcvw22da .label text,#mermaid-svg-1749203343004-rfcvw22da span,#mermaid-svg-1749203343004-rfcvw22da p{fill:#f8f8f2;color:#f8f8f2;}#mermaid-svg-1749203343004-rfcvw22da .node rect,#mermaid-svg-1749203343004-rfcvw22da .node circle,#mermaid-svg-1749203343004-rfcvw22da .node ellipse,#mermaid-svg-1749203343004-rfcvw22da .node polygon,#mermaid-svg-1749203343004-rfcvw22da .node path{fill:#011627;stroke:#6272a4;stroke-width:1px;}#mermaid-svg-1749203343004-rfcvw22da .flowchart-label text{text-anchor:middle;}#mermaid-svg-1749203343004-rfcvw22da .node .label{text-align:center;}#mermaid-svg-1749203343004-rfcvw22da .node.clickable{cursor:pointer;}#mermaid-svg-1749203343004-rfcvw22da .arrowheadPath{fill:#fee9d8;}#mermaid-svg-1749203343004-rfcvw22da .edgePath .path{stroke:#f8f8f2;stroke-width:2.0px;}#mermaid-svg-1749203343004-rfcvw22da .flowchart-link{stroke:#f8f8f2;fill:none;}#mermaid-svg-1749203343004-rfcvw22da .edgeLabel{background-color:#01162799;text-align:center;}#mermaid-svg-1749203343004-rfcvw22da .edgeLabel rect{opacity:0.5;background-color:#01162799;fill:#01162799;}#mermaid-svg-1749203343004-rfcvw22da .labelBkg{background-color:rgba(1, 22, 39, 0.5);}#mermaid-svg-1749203343004-rfcvw22da .cluster rect{fill:rgba(68, 71, 90, 0.5);stroke:#6272a4;stroke-width:1px;}#mermaid-svg-1749203343004-rfcvw22da .cluster text{fill:rgba(255, 255, 255, 0.8);}#mermaid-svg-1749203343004-rfcvw22da .cluster span,#mermaid-svg-1749203343004-rfcvw22da p{color:rgba(255, 255, 255, 0.8);}#mermaid-svg-1749203343004-rfcvw22da div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#44475a;border:1px solid #6272a4;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1749203343004-rfcvw22da .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#f8f8f2;}#mermaid-svg-1749203343004-rfcvw22da :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1749203343004-rfcvw22da_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1749203343004-rfcvw22da_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1749203343004-rfcvw22da_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1749203343004-rfcvw22da_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1749203343004-rfcvw22da_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M397.029,33.72L397.029,37.887C397.029,42.053,397.029,50.387,397.095,57.92C397.161,65.454,397.293,72.187,397.359,75.554L397.425,78.921"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M334.287,205.981L299.045,222.165C263.803,238.348,193.319,270.715,158.077,291.742C122.835,312.769,122.835,322.456,122.835,327.299L122.835,332.143"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-D" id="L-B-D-0" d="M397.529,269.223L397.445,274.866C397.362,280.509,397.195,291.796,397.112,302.403C397.029,313.009,397.029,322.936,397.029,327.899L397.029,332.863"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-E" id="L-B-E-0" d="M456.245,210.506L483.121,225.936C509.998,241.365,563.751,272.224,590.627,292.616C617.504,313.009,617.504,322.936,617.504,327.899L617.504,332.863"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" id="L-D-F-0" d="M397.029,389.163L397.029,393.449C397.029,397.736,397.029,406.309,407.176,414.449C417.323,422.589,437.617,430.295,447.764,434.148L457.911,438.001"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-F" id="L-E-F-0" d="M617.504,389.163L617.504,393.449C617.504,397.736,617.504,406.309,607.357,414.449C597.21,422.589,576.916,430.295,566.769,434.148L556.622,438.001"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M507.266,473.603L507.266,477.769C507.266,481.936,507.266,490.269,507.266,497.719C507.266,505.169,507.266,511.736,507.266,515.019L507.266,518.303"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M507.266,661.003L507.266,665.169C507.266,669.336,507.266,677.669,507.266,685.119C507.266,692.569,507.266,699.136,507.266,702.419L507.266,705.703"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" id="L-H-I-0" d="M507.266,762.003L507.266,766.169C507.266,770.336,507.266,778.669,507.332,786.203C507.398,793.736,507.53,800.47,507.596,803.837L507.662,807.204"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-J" id="L-I-J-0" d="M547.278,940.534L558.078,952.642C568.879,964.751,590.48,988.968,601.281,1010.813C612.081,1032.658,612.081,1052.132,612.081,1070.165C612.081,1088.198,612.081,1104.792,612.081,1116.372C612.081,1127.952,612.081,1134.518,612.081,1137.802L612.081,1141.085"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-K" id="L-I-K-0" d="M468.255,940.534L457.288,952.642C446.32,964.751,424.386,988.968,413.419,1005.8C402.451,1022.632,402.451,1032.078,402.451,1036.802L402.451,1041.525"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-L" id="L-K-L-0" d="M402.451,1096.385L402.451,1100.552C402.451,1104.718,402.451,1113.052,402.451,1120.502C402.451,1127.952,402.451,1134.518,402.451,1137.802L402.451,1141.085"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-M" id="L-L-M-0" d="M402.451,1180.105L402.451,1184.272C402.451,1188.438,402.451,1196.772,412.245,1204.782C422.038,1212.793,441.625,1220.481,451.418,1224.325L461.212,1228.169"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-M" id="L-J-M-0" d="M612.081,1180.105L612.081,1184.272C612.081,1188.438,612.081,1196.772,602.288,1204.782C592.494,1212.793,572.908,1220.481,563.114,1224.325L553.321,1228.169"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-N" id="L-M-N-0" d="M507.266,1262.385L507.266,1266.552C507.266,1270.718,507.266,1279.052,507.266,1286.502C507.266,1293.952,507.266,1300.518,507.266,1303.802L507.266,1307.085"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-O" id="L-N-O-0" d="M507.266,1363.385L507.266,1367.552C507.266,1371.718,507.266,1380.052,507.266,1387.502C507.266,1394.952,507.266,1401.518,507.266,1404.802L507.266,1408.085"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-P" id="L-O-P-0" d="M507.266,1445.665L507.266,1449.832C507.266,1453.998,507.266,1462.332,507.266,1469.782C507.266,1477.232,507.266,1483.798,507.266,1487.082L507.266,1490.365"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-Q" id="L-P-Q-0" d="M507.266,1545.225L507.266,1549.392C507.266,1553.558,507.266,1561.892,507.266,1569.342C507.266,1576.792,507.266,1583.358,507.266,1586.642L507.266,1589.925"/><path marker-end="url(#mermaid-svg-1749203343004-rfcvw22da_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Q LE-R" id="L-Q-R-0" d="M507.266,1627.505L507.266,1631.672C507.266,1635.838,507.266,1644.172,507.266,1651.622C507.266,1659.072,507.266,1665.638,507.266,1668.922L507.266,1672.205"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(122.83500671386719, 303.08250427246094)" class="edgeLabel"><g transform="translate(-38.83500289916992, -8.640000343322754)" class="label"><foreignObject height="17.280000686645508" width="77.67000579833984"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Có &amp; Fresh</span></div></foreignObject></g></g><g transform="translate(397.02877044677734, 303.08250427246094)" class="edgeLabel"><g transform="translate(-54.247501373291016, -9.360000610351562)" class="label"><foreignObject height="18.720001220703125" width="108.49500274658203"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Có nhưng Stale</span></div></foreignObject></g></g><g transform="translate(617.503776550293, 303.08250427246094)" class="edgeLabel"><g transform="translate(-32.321250915527344, -8.640000343322754)" class="label"><foreignObject height="17.280000686645508" width="64.64250183105469"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Không có</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(612.0812759399414, 1071.605031967163)" class="edgeLabel"><g transform="translate(-19.282501220703125, -8.640000343322754)" class="label"><foreignObject height="17.280000686645508" width="38.56500244140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Fresh</span></div></foreignObject></g></g><g transform="translate(402.4512710571289, 1013.1850290298462)" class="edgeLabel"><g transform="translate(-47.23875045776367, -8.640000343322754)" class="label"><foreignObject height="17.280000686645508" width="94.47750091552734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Stale/Missing</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(397.02877044677734, 16.860000610351562)" id="flowchart-A-84" class="node default default flowchart-label"><rect height="33.720001220703125" width="159.33750915527344" y="-16.860000610351562" x="-79.66875457763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-72.16875457763672, -9.360000610351562)" style="" class="label"><rect/><foreignObject height="18.720001220703125" width="144.33750915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User truy cập /stats</span></div></foreignObject></g></g><g transform="translate(397.02877044677734, 176.22125244140625)" id="flowchart-B-85" class="node default default flowchart-label"><polygon style="" transform="translate(-92.50125122070312,92.50125122070312)" class="label-container" points="92.50125122070312,0 185.00250244140625,-92.50125122070312 92.50125122070312,-185.00250244140625 0,-92.50125122070312"/><g transform="translate(-68.14125061035156, -9.360000610351562)" style="" class="label"><rect/><foreignObject height="18.720001220703125" width="136.28250122070312"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Static Page có sẵn?</span></div></foreignObject></g></g><g transform="translate(122.83500671386719, 363.6625061035156)" id="flowchart-C-87" class="node default default flowchart-label"><rect height="52.44000244140625" width="245.67001342773438" y="-26.220001220703125" x="-122.83500671386719" ry="0" rx="0" style="fill:#90EE90;" class="basic label-container"/><g transform="translate(-115.33500671386719, -18.720001220703125)" style="" class="label"><rect/><foreignObject height="37.44000244140625" width="230.67001342773438"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Trả về Static HTML ngay lập tức<br />(từ CDN/Cache)</span></div></foreignObject></g></g><g transform="translate(397.02877044677734, 363.6625061035156)" id="flowchart-D-89" class="node default default flowchart-label"><rect height="51" width="202.71751403808594" y="-25.5" x="-101.35875701904297" ry="0" rx="0" style="fill:#FFE4B5;" class="basic label-container"/><g transform="translate(-93.85875701904297, -18)" style="" class="label"><rect/><foreignObject height="36" width="187.71751403808594"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Trả về Static HTML cũ<br />(Background Revalidation)</span></div></foreignObject></g></g><g transform="translate(617.503776550293, 363.6625061035156)" id="flowchart-E-91" class="node default default flowchart-label"><rect height="51" width="138.23250579833984" y="-25.5" x="-69.11625289916992" ry="0" rx="0" style="fill:#FFB6C1;" class="basic label-container"/><g transform="translate(-61.61625289916992, -18)" style="" class="label"><rect/><foreignObject height="36" width="123.23250579833984"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Generate tại chỗ<br />(Fallback to SSR)</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 456.7425079345703)" id="flowchart-F-93" class="node default default flowchart-label"><rect height="33.720001220703125" width="291.1875" y="-16.860000610351562" x="-145.59375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-138.09375, -9.360000610351562)" style="" class="label"><rect/><foreignObject height="18.720001220703125" width="276.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Background: Gọi fetchWakatimeData()</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 592.3025131225586)" id="flowchart-G-97" class="node default default flowchart-label"><rect height="137.4000015258789" width="292.9875183105469" y="-68.70000076293945" x="-146.49375915527344" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-138.99375915527344, -61.20000076293945)" style="" class="label"><rect/><foreignObject height="122.4000015258789" width="277.9875183105469"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Parallel fetch tất cả API endpoints<br />- wakatime-stats?range=last_7_days<br />- wakatime-stats?range=last_30_days<br />- wakatime-stats?range=last_6_months<br />- wakatime-stats?range=last_year<br />- wakatime-stats?range=all_time<br />- wakatime-all-time</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 736.5025177001953)" id="flowchart-H-99" class="node default default flowchart-label"><rect height="51" width="206.16000366210938" y="-25.5" x="-103.08000183105469" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-95.58000183105469, -18)" style="" class="label"><rect/><foreignObject height="36" width="191.16000366210938"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Mỗi API call có cache 1 giờ<br />next: { revalidate: 3600 }</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 895.7737731933594)" id="flowchart-I-101" class="node default default flowchart-label"><polygon style="" transform="translate(-83.77125263214111,83.77125263214111)" class="label-container" points="83.77125263214111,0 167.54250526428223,-83.77125263214111 83.77125263214111,-167.54250526428223 0,-83.77125263214111"/><g transform="translate(-60.13125228881836, -8.640000343322754)" style="" class="label"><rect/><foreignObject height="17.280000686645508" width="120.26250457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">API Cache Fresh?</span></div></foreignObject></g></g><g transform="translate(612.0812759399414, 1163.2450351715088)" id="flowchart-J-103" class="node default default flowchart-label"><rect height="33.720001220703125" width="152.8800048828125" y="-16.860000610351562" x="-76.44000244140625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-68.94000244140625, -9.360000610351562)" style="" class="label"><rect/><foreignObject height="18.720001220703125" width="137.8800048828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Trả về cached data</span></div></foreignObject></g></g><g transform="translate(402.4512710571289, 1071.605031967163)" id="flowchart-K-105" class="node default default flowchart-label"><rect height="49.560001373291016" width="279.8025207519531" y="-24.780000686645508" x="-139.90126037597656" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-132.40126037597656, -17.280000686645508)" style="" class="label"><rect/><foreignObject height="34.560001373291016" width="264.8025207519531"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Call Wakatime API<br />Authorization: Basic base64(api_key)</span></div></foreignObject></g></g><g transform="translate(402.4512710571289, 1163.2450351715088)" id="flowchart-L-107" class="node default default flowchart-label"><rect height="33.720001220703125" width="166.3800048828125" y="-16.860000610351562" x="-83.19000244140625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-75.69000244140625, -9.360000610351562)" style="" class="label"><rect/><foreignObject height="18.720001220703125" width="151.3800048828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Cache response 1 giờ</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 1246.2450351715088)" id="flowchart-M-109" class="node default default flowchart-label"><rect height="32.28000068664551" width="99.33000183105469" y="-16.140000343322754" x="-49.665000915527344" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-42.165000915527344, -8.640000343322754)" style="" class="label"><rect/><foreignObject height="17.280000686645508" width="84.33000183105469"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Return data</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 1337.8850345611572)" id="flowchart-N-113" class="node default default flowchart-label"><rect height="51" width="195.90000915527344" y="-25.5" x="-97.95000457763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-90.45000457763672, -18)" style="" class="label"><rect/><foreignObject height="36" width="180.90000915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Combine tất cả data<br />+ lastUpdated timestamp</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 1429.5250339508057)" id="flowchart-O-115" class="node default default flowchart-label"><rect height="32.28000068664551" width="206.02500915527344" y="-16.140000343322754" x="-103.01250457763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-95.51250457763672, -8.640000343322754)" style="" class="label"><rect/><foreignObject height="17.280000686645508" width="191.02500915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Generate new Static HTML</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 1520.4450359344482)" id="flowchart-P-117" class="node default default flowchart-label"><rect height="49.560001373291016" width="192.7725067138672" y="-24.780000686645508" x="-96.3862533569336" ry="0" rx="0" style="fill:#87CEEB;" class="basic label-container"/><g transform="translate(-88.8862533569336, -17.280000686645508)" style="" class="label"><rect/><foreignObject height="34.560001373291016" width="177.7725067138672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Cache Static HTML<br />revalidate: 3600 seconds</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 1611.3650379180908)" id="flowchart-Q-119" class="node default default flowchart-label"><rect height="32.28000068664551" width="147.63751220703125" y="-16.140000343322754" x="-73.81875610351562" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-66.31875610351562, -8.640000343322754)" style="" class="label"><rect/><foreignObject height="17.280000686645508" width="132.63751220703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Update CDN cache</span></div></foreignObject></g></g><g transform="translate(507.26627349853516, 1703.0050373077393)" id="flowchart-R-121" class="node default default flowchart-label"><rect height="51" width="177.0900115966797" y="-25.5" x="-88.54500579833984" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-81.04500579833984, -18)" style="" class="label"><rect/><foreignObject height="36" width="162.0900115966797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Serve new content<br />cho requests tiếp theo</span></div></foreignObject></g></g></g></g></g></svg>